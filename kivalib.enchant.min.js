function createIgniterPool(t){igniterPool_=new IgniterPool(t)}function obtainIgniter(){return igniterPool_.obtainObject()}function regDelayedUpdater(t,n,e,i,r){var o=obtainIgniter();o&&(t.addChild(o),o.tl.delay(e).then(function(){t.removeChild(o),regUpdater(n,i,r)}))}function createUpdaterPool(t){updaterPool_=new KlUpdaterPool(t)}function obtainUpdater(){return updaterPool_.obtainObject()}function releaseUpdater(t){updaterPool_.releaseObject(t)}function regUpdater(t,n,e){var i=obtainUpdater();i&&(i.proc=n,i.args=e,t.push(i))}function degToRad(t){return t/180*M_PI}function radToDeg(t){return t*(180/M_PI)}function dotProduct(t,n,e,i){return t*e-n*i}function crossProduct(t,n,e,i){return t*i-n*e}var KlGroup=enchant.Class.create(enchant.Group,{initialize:function(){Group.call(this)},removeAllChildren:function(){for(;this.childNodes.length;)this.removeChild(this.lastChild)}}),KlObjectPool=enchant.Class.create({initialize:function(t){this.array=[];for(var n=0;t>n;n++){var e=this.builder();null!=e&&this.array.push(e)}},obtainObject:function(){if(this.array.length>0){var t=this.array.pop();return this.onobtained(t),t}return null},releaseObject:function(t){this.array.push(t)},builder:function(){return null},onobtained:function(){}}),IgniterPool=enchant.Class.create(KlObjectPool,{initialize:function(t){KlObjectPool.call(this,t)},builder:function(){return new Entity},onobtained:function(t){t.clearEventListener();var n=this;t.on("removed",function(t){n.releaseObject(t.target)})}}),igniterPool_,KlUpdater=enchant.Class.create({initialize:function(){this.proc=null,this.args=[]}}),KlUpdaterPool=enchant.Class.create(KlObjectPool,{initialize:function(t){KlObjectPool.call(this,t)},builder:function(){return new KlUpdater},onobtained:function(t){t.proc=null,t.args=[]}}),updaterPool_,ABS=Math.abs,CEIL=Math.ceil,COS=Math.cos,FLOOR=Math.floor,MAX=Math.max,MIN=Math.min,RANDOM=Math.random,SQRT=Math.sqrt,M_PI=Math.PI,Vector2=enchant.Class.create({initialize:function(t,n){this.x=t,this.y=n},add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},normalize:function(){},debugPrint:function(){console.log("x:"+this.x+", y:"+this.y)}});